ğŸš€ 1ï¸âƒ£ Dockerì—ì„œ Ubuntu ì»¨í…Œì´ë„ˆ ì„¤ì¹˜í•˜ê¸°
ğŸ”¹ 1. Docker Desktop ì‹¤í–‰ ë° Ubuntu ì´ë¯¸ì§€ ë‹¤ìš´ë¡œë“œ
ë¨¼ì €, Docker Desktopì„ ì‹¤í–‰í•œ í›„, Ubuntu ì»¨í…Œì´ë„ˆë¥¼ ì‹¤í–‰í•˜ê¸° ìœ„í•´ ê³µì‹ Ubuntu ì´ë¯¸ì§€ë¥¼ ë‹¤ìš´ë¡œë“œí•´ì•¼ í•´.

í„°ë¯¸ë„(CMD ë˜ëŠ” PowerShell)ì—ì„œ ì•„ë˜ ëª…ë ¹ì–´ë¥¼ ì…ë ¥:

bash
ë³µì‚¬
í¸ì§‘
docker pull ubuntu:22.04
ğŸ‘‰ ì´ ëª…ë ¹ì–´ëŠ” Ubuntu 22.04 LTS ì´ë¯¸ì§€ë¥¼ ë‹¤ìš´ë¡œë“œí•œë‹¤.

ğŸ”¹ 2. Ubuntu ì»¨í…Œì´ë„ˆ ì‹¤í–‰ ë° ìƒì„±
ì´ì œ Ubuntu ì»¨í…Œì´ë„ˆë¥¼ ì‹¤í–‰í•˜ì. ë‹¤ìŒ ëª…ë ¹ì–´ë¥¼ ì…ë ¥:
docker run -it --name su_ubuntu_container --gpus all --shm-size=32g --memory=50g --cpus=16 ubuntu:22.04 /bin/bash


ğŸš€ 2ï¸âƒ£ ì»¨í…Œì´ë„ˆì—ì„œ í•„ìˆ˜ íŒ¨í‚¤ì§€ ì„¤ì¹˜
Ubuntu ì»¨í…Œì´ë„ˆ ë‚´ë¶€ì—ì„œ Ollama ë° Deepseek R1ì„ ì„¤ì¹˜í•˜ê¸° ìœ„í•´ ê¸°ë³¸ íŒ¨í‚¤ì§€ë¥¼ ë¨¼ì € ì„¤ì¹˜í•´ì•¼ í•´.

ğŸ”¹ 1. íŒ¨í‚¤ì§€ ëª©ë¡ ì—…ë°ì´íŠ¸
bash
ë³µì‚¬
í¸ì§‘

apt update && apt upgrade -y
ğŸ”¹ 2. í•„ìˆ˜ íŒ¨í‚¤ì§€ ì„¤ì¹˜
bash
ë³µì‚¬
í¸ì§‘
apt install -y curl git wget nano build-essential
ğŸ“Œ ì„¤ëª…:

curl â†’ Ollama ì„¤ì¹˜ì— í•„ìš”
git â†’ ì½”ë“œ ê´€ë¦¬ìš©
wget â†’ ë‹¤ìš´ë¡œë“œ ë„êµ¬
nano â†’ ê°„ë‹¨í•œ í…ìŠ¤íŠ¸ í¸ì§‘ê¸°
build-essential â†’ C++ ì»´íŒŒì¼ëŸ¬ ë° í•„ìˆ˜ ë¹Œë“œ ë„êµ¬

ğŸš€ 3ï¸âƒ£ ì»¨í…Œì´ë„ˆë¥¼ ë°±ê·¸ë¼ìš´ë“œì—ì„œ ì‹¤í–‰í•˜ê¸°
ì§€ê¸ˆê¹Œì§€ ì‹¤í–‰í•œ Ubuntu ì»¨í…Œì´ë„ˆëŠ” ì¢…ë£Œí•˜ë©´ ì‚¬ë¼ì§€ë¯€ë¡œ, ë°±ê·¸ë¼ìš´ë“œì—ì„œ ì‹¤í–‰ë˜ë„ë¡ ì„¤ì •í•´ë³´ì.

ğŸ”¹ 1. í˜„ì¬ ì»¨í…Œì´ë„ˆì—ì„œ ë‚˜ê°€ê¸°
ì»¨í…Œì´ë„ˆ ë‚´ë¶€ì—ì„œ exit ì…ë ¥í•˜ê±°ë‚˜ Ctrl + Dë¥¼ ëˆ„ë¥´ë©´ ë¹ ì ¸ë‚˜ì˜¬ ìˆ˜ ìˆì–´.

ğŸ”¹ 2. ì»¨í…Œì´ë„ˆë¥¼ ë°±ê·¸ë¼ìš´ë“œì—ì„œ ì‹¤í–‰
bash
ë³µì‚¬
í¸ì§‘
docker start -ai su_ubuntu_container
ğŸ‘‰ ì´ ëª…ë ¹ì–´ë¥¼ ì‚¬ìš©í•˜ë©´ ì»¨í…Œì´ë„ˆë¥¼ ê³„ì† ìœ ì§€í•˜ë©´ì„œ ë‹¤ì‹œ ì ‘ì† ê°€ëŠ¥!


ğŸ‘‰ ì´ ëª…ë ¹ì–´ë¥¼ ì‚¬ìš©í•˜ë©´ ì»¨í…Œì´ë„ˆë¥¼ ê³„ì† ìœ ì§€í•˜ë©´ì„œ ë‹¤ì‹œ ì ‘ì† ê°€ëŠ¥!

ë˜ëŠ” ì™„ì „íˆ ë°±ê·¸ë¼ìš´ë“œì—ì„œ ì‹¤í–‰í•˜ë ¤ë©´:

bash
ë³µì‚¬
í¸ì§‘
docker start su_ubuntu_container
docker exec -it su_
ubuntu_container /bin/bash









1ï¸âƒ£ PowerShellì—ì„œ í•  ì¼ (ê´€ë¦¬ì ê¶Œí•œ)

powershell
ë³µì‚¬
í¸ì§‘
wsl --shutdown
ğŸ‘‰ ì´ ë¶€ë¶„ì€ PowerShellì—ì„œ ì‹¤í–‰í•˜ë©´ OK! ì´ë¯¸ ì‹¤í–‰í–ˆìœ¼ë‹ˆ ë„˜ì–´ê°€ë„ ë¼.

2ï¸âƒ£ Ubuntu ì»¨í…Œì´ë„ˆ ë‚´ë¶€ì—ì„œ ì‹¤í–‰í•´ì•¼ í•  ëª…ë ¹ì–´ PowerShellì´ ì•„ë‹ˆë¼, Ubuntu ì»¨í…Œì´ë„ˆ ë‚´ë¶€ì—ì„œ ì‹¤í–‰í•´ì•¼ í•´.

ğŸ”¹ Ubuntu ì»¨í…Œì´ë„ˆ ë‚´ë¶€ë¡œ ë“¤ì–´ê°€ê¸°
PowerShellì—ì„œ ë‹¤ìŒ ëª…ë ¹ì–´ ì…ë ¥:

powershell
ë³µì‚¬
í¸ì§‘
docker exec -it ubuntu_container /bin/bash
ğŸ‘‰ ì´ ëª…ë ¹ì–´ë¥¼ ì‹¤í–‰í•˜ë©´ Ubuntu ì»¨í…Œì´ë„ˆ ë‚´ë¶€ë¡œ ì§„ì…í•  ìˆ˜ ìˆì–´.






PS C:\Users\fruup> docker exec -it su_ubuntu_container /bin/bash
root@a7cd8bb44e21:/#


ì´í›„ë¶€í„°ëŠ” ì–´ë–»ê²Œ ì§„í–‰í•´ì•¼ í•´?
ChatGPTì˜ ë§:
ì´ì œ Dockerì—ì„œ ì‹¤í–‰ ì¤‘ì¸ Ubuntu ì»¨í…Œì´ë„ˆ ë‚´ë¶€ì— ë“¤ì–´ì™”ìŠµë‹ˆë‹¤.
ì´ì œ Ollama ë° Deepseek R1 14Bë¥¼ ì„¤ì¹˜í•˜ê³ , RTX 4070ì„ í™œìš©í•œ í•™ìŠµ í™˜ê²½ì„ êµ¬ì„±í•˜ëŠ” ì‘ì—…ì„ ì§„í–‰í•©ë‹ˆë‹¤.

ğŸš€ 1ï¸âƒ£ Ubuntu ì»¨í…Œì´ë„ˆ ê¸°ë³¸ ì„¤ì •
ì»¨í…Œì´ë„ˆ ë‚´ë¶€ì—ì„œ íŒ¨í‚¤ì§€ë¥¼ ì—…ë°ì´íŠ¸í•˜ê³  ê¸°ë³¸ ë„êµ¬ë“¤ì„ ì„¤ì¹˜í•©ë‹ˆë‹¤.

bash
ë³µì‚¬
í¸ì§‘
apt update && apt upgrade -y
apt install -y curl git python3 python3-pip nano
âœ… Python ë° íŒ¨í‚¤ì§€ ê´€ë¦¬ ë„êµ¬ê°€ ì„¤ì¹˜ë©ë‹ˆë‹¤.

ğŸš€ 2ï¸âƒ£ NVIDIA GPU ë“œë¼ì´ë²„ ë° CUDA ì„¤ì •
RTX 4070ì„ í•™ìŠµì— í™œìš©í•˜ë ¤ë©´ CUDA ë° NVIDIA ê´€ë ¨ ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì„¤ì¹˜í•´ì•¼ í•©ë‹ˆë‹¤.

(1) NVIDIA ë“œë¼ì´ë²„ í™•ì¸
bash
ë³µì‚¬
í¸ì§‘
nvidia-smi
âœ… ì •ìƒì ì¸ ê²½ìš° ë‹¤ìŒê³¼ ê°™ì€ GPU ì •ë³´ê°€ ì¶œë ¥ë˜ì–´ì•¼ í•©ë‹ˆë‹¤.

pgsql
ë³µì‚¬
í¸ì§‘
+-----------------------------------------------------------------------------+
| NVIDIA-SMI 530.41.03    Driver Version: 530.41.03    CUDA Version: 12.1     |
|-------------------------------+----------------------+----------------------+
| GPU  Name        Persistence-M| Bus-Id        Disp.A | Volatile Uncorr. ECC |
| Fan  Temp   Perf  Pwr:Usage/Cap|         Memory-Usage | GPU-Util  Compute M. |
+-------------------------------+----------------------+----------------------+







ğŸš€ 3ï¸âƒ£ Ollama ì„¤ì¹˜
ì´ì œ Ollamaë¥¼ ì„¤ì¹˜í•˜ì—¬ Deepseek R1 14B ëª¨ë¸ì„ ì‹¤í–‰í•  ìˆ˜ ìˆë„ë¡ í•©ë‹ˆë‹¤.

bash
ë³µì‚¬
í¸ì§‘
curl -fsSL https://ollama.com/install.sh | sh
âœ… ì„¤ì¹˜ê°€ ì™„ë£Œë˜ë©´, ë²„ì „ì„ í™•ì¸í•˜ì„¸ìš”.

bash
ë³µì‚¬
í¸ì§‘
ollama --version


curl http://127.0.0.1:11434/api/tags ëª…ë ¹ì–´ì˜ ì‘ë‹µì´:

json
ë³µì‚¬
í¸ì§‘
{"models":[]}
ì¦‰, ì„¤ì¹˜ëœ ëª¨ë¸ì´ ì—†ìŒì„ ì˜ë¯¸í•©ë‹ˆë‹¤.

ğŸ’¡ Ollama ì„œë²„ëŠ” ì •ìƒ ì‘ë™ ì¤‘ì´ì§€ë§Œ, Deepseek R1 ëª¨ë¸ì´ ì•„ì§ ë‹¤ìš´ë¡œë“œë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤.

ğŸš€ ë‹¤ìŒ ë‹¨ê³„: Deepseek R1 14B ëª¨ë¸ ë‹¤ìš´ë¡œë“œ
ì´ì œ Deepseek R1 14B ëª¨ë¸ì„ ë‹¤ìš´ë¡œë“œí•´ì„œ ì‹¤í–‰í•  ìˆ˜ ìˆë„ë¡ ì„¤ì •í•´ì•¼ í•©ë‹ˆë‹¤.

1ï¸âƒ£ Deepseek R1 14B ëª¨ë¸ ë‹¤ìš´ë¡œë“œ
ì•„ë˜ ëª…ë ¹ì–´ë¥¼ ì‹¤í–‰í•˜ì—¬ Deepseek R1 14B ëª¨ë¸ì„ ë‹¤ìš´ë¡œë“œí•˜ì„¸ìš”.

bash
ë³µì‚¬
í¸ì§‘
ollama pull deepseek-r1:14b
ì´ ëª…ë ¹ì–´ë¥¼ ì‹¤í–‰í•˜ë©´ Deepseek R1 14B ëª¨ë¸ì„ Ollamaì— ë‹¤ìš´ë¡œë“œí•˜ì—¬ ì‚¬ìš© ê°€ëŠ¥í•˜ê²Œ í•©ë‹ˆë‹¤.
ğŸ’¡ ë‹¤ìš´ë¡œë“œ ì†ë„ëŠ” ë„¤íŠ¸ì›Œí¬ ìƒíƒœì— ë”°ë¼ ë‹¤ë¥¼ ìˆ˜ ìˆìœ¼ë©°, ëª¨ë¸ í¬ê¸°ê°€ í¬ë¯€ë¡œ ì‹œê°„ì´ ê±¸ë¦´ ìˆ˜ ìˆìŠµë‹ˆë‹¤.


2ï¸âƒ£ ëª¨ë¸ ë‹¤ìš´ë¡œë“œ í™•ì¸
ë‹¤ìš´ë¡œë“œê°€ ì™„ë£Œë˜ì—ˆëŠ”ì§€ í™•ì¸í•˜ë ¤ë©´ ë‹¤ì‹œ ë‹¤ìŒ ëª…ë ¹ì–´ë¥¼ ì‹¤í–‰í•©ë‹ˆë‹¤.

bash
ë³µì‚¬
í¸ì§‘
curl http://127.0.0.1:11434/api/tags
ğŸ”¹ ì‘ë‹µì´ ë‹¤ìŒê³¼ ê°™ì´ ë‚˜ì˜¤ë©´ ì„±ê³µì ìœ¼ë¡œ ëª¨ë¸ì´ ì„¤ì¹˜ëœ ê²ƒì…ë‹ˆë‹¤.

json
ë³µì‚¬
í¸ì§‘
{"models":["deepseek-r1:14b"]}
ì„¤ì¹˜ëœ ëª¨ë¸ ë¦¬ìŠ¤íŠ¸ì— **deepseek-r1:14b**ê°€ í¬í•¨ë˜ì–´ ìˆì–´ì•¼ í•©ë‹ˆë‹¤.


















ğŸš€ Deepseek R1ì„ WebUI(Open WebUI)ì™€ ì—°ë™í•˜ì—¬ ë¸Œë¼ìš°ì €ì—ì„œ ì‹¤í–‰í•˜ëŠ” ë°©ë²•
ì§€ê¸ˆê¹Œì§€ Ollamaë¥¼ Ubuntu ì»¨í…Œì´ë„ˆ(su_ubuntu_container) ë‚´ë¶€ì— ì„¤ì¹˜í–ˆìœ¼ë¯€ë¡œ,
WebUI(Open WebUI)ë¥¼ ìƒˆë¡œìš´ ì»¨í…Œì´ë„ˆì—ì„œ ì‹¤í–‰í•˜ì—¬ Ollamaì™€ ì—°ë™í•´ì•¼ í•´.

1ï¸âƒ£ WebUI(Open WebUI) ì‹¤í–‰ì„ ìœ„í•œ ì¤€ë¹„ ì‚¬í•­
âœ… OllamaëŠ” su_ubuntu_container ì»¨í…Œì´ë„ˆ ë‚´ë¶€ì— ì„¤ì¹˜ë¨
âœ… WebUIëŠ” ë³„ë„ì˜ Docker ì»¨í…Œì´ë„ˆë¡œ ì‹¤í–‰í•˜ì—¬ Ollamaì™€ ì—°ë™í•  ê²ƒ
âœ… Windowsì—ì„œ ë¸Œë¼ìš°ì €(http://localhost:3000)ë¡œ ì ‘ì† ê°€ëŠ¥í•˜ê²Œ ì„¤ì •

2ï¸âƒ£ WebUI(Open WebUI) ì»¨í…Œì´ë„ˆ ì‹¤í–‰
PowerShellì„ ê´€ë¦¬ì ê¶Œí•œìœ¼ë¡œ ì—´ê³  ì•„ë˜ ëª…ë ¹ì–´ ì‹¤í–‰:

powershell
ë³µì‚¬
í¸ì§‘
docker run -d --name ollama-webui --gpus all -p 3000:3000 -v ~/.ollama:/root/.ollama ghcr.io/open-webui/open-webui:main
ğŸ“Œ ì„¤ëª…

-d â†’ ë°±ê·¸ë¼ìš´ë“œì—ì„œ ì‹¤í–‰
--name ollama-webui â†’ ì»¨í…Œì´ë„ˆ ì´ë¦„ ollama-webuië¡œ ì„¤ì •
--gpus all â†’ GPU ì‚¬ìš© ê°€ëŠ¥í•˜ê²Œ ì„¤ì •
-p 3000:3000 â†’ í˜¸ìŠ¤íŠ¸(Windows)ì™€ ì»¨í…Œì´ë„ˆ í¬íŠ¸(3000) ì—°ê²°
-v ~/.ollama:/root/.ollama â†’ Ollamaì˜ ëª¨ë¸ ë°ì´í„°ë¥¼ ê³µìœ 
ghcr.io/open-webui/open-webui:main â†’ Open WebUI ìµœì‹  ë²„ì „ ì‹¤í–‰
âœ… ì‹¤í–‰ í›„ ë¸Œë¼ìš°ì €ì—ì„œ http://localhost:3000 ì ‘ì†í•˜ë©´ WebUIê°€ ì—´ë¦¼.


PS C:\Users\fruup> docker exec -it ollama-webui /bin/bash
root@6217353f5426:/app/backend# curl http://host.docker.internal:11434/api/tags
{"models":[{"name":"deepseek-r1:14b","model":"deepseek-r1:14b","modified_at":"2025-02-10T20:05:39.864969083+09:00","size":8988112040,"digest":"ea35dfe18182f635ee2b214ea30b7520fe1ada68da018f8b395b444b662d4f1a","details":{"parent_model":"","format":"gguf","family":"qwen2","families":["qwen2"],"parameter_size":"14.8B","quantization_level":"Q4_K_M"}}]}root@6217353f5426:/app/backend#
















ğŸ”¹ WebUI ì»¨í…Œì´ë„ˆ ë‚´ë¶€ë¡œ ì ‘ì†

powershell
ë³µì‚¬
í¸ì§‘
docker exec -it ollama-webui /bin/bash





***************************************


1ï¸âƒ£ ì‹¤í–‰ ì¤‘ì¸ ì»¨í…Œì´ë„ˆ ëª©ë¡ í™•ì¸
í˜„ì¬ ì‹¤í–‰ ì¤‘ì¸ ì»¨í…Œì´ë„ˆë§Œ í™•ì¸í•˜ë ¤ë©´ ë‹¤ìŒ ëª…ë ¹ì–´ë¥¼ ì‚¬ìš©í•˜ë©´ ë¼.

powershell
ë³µì‚¬
í¸ì§‘
docker ps


Ubuntu ì»¨í…Œì´ë„ˆ(su_ubuntu_container) ë‚´ë¶€ ì ‘ì†
powershell
ë³µì‚¬
í¸ì§‘
docker exec -it su_ubuntu_container /bin/bash

ğŸš€ Deepseek R1 ì‹¤í–‰ ë°©ë²• (ollama pull deepseek-r1:14b ì„¤ì¹˜ ì™„ë£Œ í›„)
í˜„ì¬ deepseek-r1:14b ëª¨ë¸ì„ Ubuntu ì»¨í…Œì´ë„ˆ(su_ubuntu_container) ë‚´ë¶€ì— ì„¤ì¹˜í–ˆìœ¼ë¯€ë¡œ, ëª¨ë¸ì„ ì‹¤í–‰í•˜ëŠ” ë°©ë²•ì„ ì•Œë ¤ì¤„ê²Œ.

1ï¸âƒ£ Ollama ì„œë²„ ì‹¤í–‰ (ollama serve &)
ë¨¼ì €, Ollama ì„œë²„ë¥¼ ë°±ê·¸ë¼ìš´ë“œì—ì„œ ì‹¤í–‰í•´ì•¼ í•¨.
ì»¨í…Œì´ë„ˆ ë‚´ë¶€ì—ì„œ ì•„ë˜ ëª…ë ¹ì–´ë¥¼ ì…ë ¥í•˜ì.

bash
ë³µì‚¬
í¸ì§‘



ollama serve &



âœ… ì‹¤í–‰ í›„ Ollama APIê°€ 127.0.0.1:11434ì—ì„œ ì‹¤í–‰ë¨.

2ï¸âƒ£ Deepseek R1 ëª¨ë¸ ì‹¤í–‰ í…ŒìŠ¤íŠ¸
ì´ì œ ì„¤ì¹˜í•œ deepseek-r1:14b ëª¨ë¸ì„ ì‹¤í–‰í•´ë³´ì.

bash
ë³µì‚¬
í¸ì§‘
ollama run deepseek-r1:14b
âœ… ì‹¤í–‰ í›„ í”„ë¡¬í”„íŠ¸ê°€ ëœ¨ë©´, ì—¬ê¸°ì— ì§ˆë¬¸ì„ ì…ë ¥í•˜ë©´ ëª¨ë¸ì´ ì‘ë‹µì„ ìƒì„±í•¨.

3ï¸âƒ£ Deepseek R1 ëª¨ë¸ ì‹¤í–‰ (ëŒ€í™” ëª¨ë“œ)
ë§Œì•½ ì±„íŒ… ë°©ì‹ìœ¼ë¡œ ëª¨ë¸ì„ ì‚¬ìš©í•˜ê³  ì‹¶ë‹¤ë©´, ë‹¤ìŒ ëª…ë ¹ì–´ë¥¼ ì‹¤í–‰í•˜ë©´ ë¼.

bash
ë³µì‚¬
í¸ì§‘
ollama chat deepseek-r1:14b
ì´ì œ í”„ë¡¬í”„íŠ¸ì—ì„œ ëŒ€í™”í˜•ìœ¼ë¡œ ì§ˆë¬¸ì„ ì…ë ¥í•˜ê³  ëª¨ë¸ê³¼ ì†Œí†µí•  ìˆ˜ ìˆìŒ!



---------------------------> ìˆœì„œì •ë¦¬

íŒŒì›Œì…€ì—ì„œ
docker exec -it su_ubuntu_container /bin/bash

ë¨¼ì €, Ollama ì„œë²„ë¥¼ ë°±ê·¸ë¼ìš´ë“œì—ì„œ ì‹¤í–‰í•´ì•¼ í•¨.
ì»¨í…Œì´ë„ˆ ë‚´ë¶€ì—ì„œ ì•„ë˜ ëª…ë ¹ì–´ë¥¼ ì…ë ¥í•˜ì.

ollama serve &

ì§ˆë¬¸
ollama run deepseek-r1:14b

ëŒ€í™”í˜•
ollama chat deepseek-r1:14b




______________________________________>>>>>>>
WebUI ì»¨í…Œì´ë„ˆ(ollama-webui) ë‚´ë¶€ ì ‘ì†

powershell
ë³µì‚¬
í¸ì§‘
docker exec -it ollama-webui /bin/bash

docker exec -it ollama-webui /bin/bash































